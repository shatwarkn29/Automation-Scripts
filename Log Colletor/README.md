# Automation Scripts for collecting error logs from Azure Appication Insights

This repository provides a automation script (ApplicationInsightsLogCollector.ps1) designed to streamline the process of collecting and analyzing logs generated by your Azure Application Inisghts.

This script collects the logs in a Application Insights depending on the Query used. It generates detailed logs for th given query and sends the data as email attachments using SendGrid.

## Prerequisites

* **Azure Subscription**: You'll need an active Azure subscription to access the relevant resources.

* **SendGrid Account**: Create a SendGrid account if you wish to send email notifications using their API.

* **SendGrid API Key**: Obtain a SendGrid API key for sending emails.

* **PowerShell Modules**: Install the required PowerShell modules (Az.ApplicationInsights, AzureCli).

## Parameters

The script requires the following parameters:

        $SubscriptionId: Azure Subscription ID.
        $ResourceGroupName: Name of the resource group.
        $applicationName: Name of the Application Insights resource.
        $query: Analytics query to run against the Application Insights resource.
        $senderEmail: Email address to send the logs from.
        $recipientEmail: Email address(es) to send the logs to (comma-separated for multiple recipients).

## Usage
* Save the script as ApplicationInsightsLogCollector.ps1.
* Run the script with the necessary parameters:
 
        .\ApplicationInsightsLogCollector.ps1 -SubscriptionId "your_subscription_id" -ResourceGroupName "your_resource_group_name" -applicationName "your_application_name" -query "your_query" -senderEmail "your_sender_email" -recipientEmail "recipient_email1,recipient_email2"
